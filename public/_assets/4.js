webpackJsonp([4],{1764:function(e,t,n){"use strict";var A=n(308);n(1765);var i=n(358),r=n(1722);$.mockjax&&$.mockjax({url:"/platform/api/login",type:"POST",responseText:{company:"Works Applications",name:"Admin",role:"operator"}});var o=A.createClass({displayName:"Login",mixins:[A.addons.LinkedStateMixin],contextTypes:{router:A.PropTypes.func.isRequired},getInitialState:function(){return{email:"",password:""}},componentWillMount:function(){this.props.setTitle("RhinoBird")},componentDidMount:function(){this.refs.email.focus()},_login:function(e){var t=this;e.preventDefault(),this.setState({error:!1}),$.post("/platform/api/login",{email:this.state.email,password:this.state.password}).then(function(e){r.updateLogin(e),t.context.router.transitionTo(t.context.router.getCurrentQuery().target||"/")}).fail(function(){r.updateLogin(void 0),t.setState({error:!0})})},render:function(){return A.createElement(i.Paper,{zDepth:1,className:"loginForm",rounded:!1},A.createElement("form",{className:"container",onSubmit:this._login},A.createElement("div",{className:"mui-font-style-title"},"Sign in"),A.createElement(i.TextField,{ref:"email",hintText:"Email",valueLink:this.linkState("email"),autofocus:!0}),A.createElement(i.TextField,{hintText:"Password",type:"password",valueLink:this.linkState("password"),errorText:this.state.error?"Email or password incorrect.":void 0}),A.createElement("div",{className:"rightButton"},A.createElement(i.RaisedButton,{label:"Sign in",primary:!0,onClick:this._login,type:"submit"}))))}});e.exports=o},1765:function(e,t,n){var A=n(1766);"string"==typeof A&&(A=[[e.id,A,""]]);n(348)(A,{})},1766:function(e,t,n){t=e.exports=n(347)(),t.push([e.id,".loginForm{position:absolute;width:300px;top:100px;left:50%;margin-left:-150px;background-color:#fafafa}.loginForm .container{padding:1.5em}.rightButton{margin-top:1em;text-align:right}",""])}});