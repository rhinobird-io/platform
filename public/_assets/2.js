webpackJsonp([2],{564:function(e,t,n){"use strict";var r=n(337);n(565);var i=n(300),o=n(554);$.mockjax&&$.mockjax({url:"/platform/api/login",type:"POST",responseText:{company:"Works Applications",name:"Admin",role:"operator"}});var a=r.createClass({displayName:"Login",mixins:[r.addons.LinkedStateMixin],contextTypes:{router:r.PropTypes.func.isRequired},getInitialState:function(){return{email:"",password:""}},componentWillMount:function(){this.props.setTitle("RhinoBird")},componentDidMount:function(){this.refs.email.focus()},_login:function(e){var t=this;e.preventDefault(),this.setState({error:!1}),$.post("/platform/api/login",{email:this.state.email,password:this.state.password}).then(function(e){o.updateLogin(e),t.context.router.transitionTo(t.context.router.getCurrentQuery().target||"/")}).fail(function(){o.updateLogin(void 0),t.setState({error:!0})})},render:function(){return r.createElement(i.Paper,{zDepth:1,className:"loginForm",rounded:!1},r.createElement("form",{className:"container",onSubmit:this._login},r.createElement("div",{className:"mui-font-style-title"},"Sign in"),r.createElement(i.TextField,{ref:"email",hintText:"Email",valueLink:this.linkState("email"),autofocus:!0}),r.createElement(i.TextField,{hintText:"Password",type:"password",valueLink:this.linkState("password"),errorText:this.state.error?"Email or password incorrect.":void 0}),r.createElement("div",{className:"rightButton"},r.createElement(i.RaisedButton,{label:"Sign in",primary:!0,onClick:this._login,type:"submit"}))))}});e.exports=a},565:function(e,t,n){var r=n(566);"string"==typeof r&&(r=[[e.id,r,""]]);n(415)(r,{})},566:function(e,t,n){t=e.exports=n(414)(),t.push([e.id,".loginForm{position:absolute;width:300px;top:100px;left:50%;margin-left:-150px;background-color:#fafafa}.loginForm .container{padding:1.5em}.rightButton{margin-top:1em;text-align:right}",""])}});