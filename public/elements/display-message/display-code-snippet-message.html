<link rel="import" href="../../bower_components/core-style/core-style.html">
<polymer-element name="display-code-snippet-message" attributes="text">

<template>
<core-style ref="theme"></core-style>
	<style>
		#codeSnippet{
			margin: .5rem 0 .2rem 0;
			line-height: 1.15rem;
			padding: .5rem;
			word-break: normal;
			border-radius: 4px;
			border: 1px solid rgba(0,0,0,0.15);
			
		}
		#line{
			white-space: pre-wrap;
		}
	</style>
	<div id="codeSnippet" class="thirdColor">
		<template repeat="{{t in processedText}}">
		<span id="line">{{t}}</span>
		<br/></template>
	</div>
</template>

<script>
	Polymer({
		processedText : [],
		domReady: function(){
			this.text = this.text.replace(/^```/, "");
			this.text = this.text.replace(/^\n/, "");
			this.text = this.text.replace(/```$/, "");
			this.text = this.text.replace(/```\n$/, "");

			this.processedText = this.text.split("\n");

		}, 
	});
</script>
</polymer-element>