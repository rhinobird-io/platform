<link rel="import" href="../../bower_components/paper-input/paper-input-decorator.html">
<link rel="import" href="../../bower_components/polymer-filters/polymer-filters.html">
<link rel="import" href="../../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../../bower_components/paper-date-picker/paper-date-picker-dialog.html">


<polymer-element name="date-input" attributes="date label disabled">
    <template>
        <style>
            .date {
                position: relative;
                cursor: pointer;
            }
        </style>
        <paper-input-decorator floatingLabel label="{{label}}" disabled="{{disabled}}">
            <div layout horizontal>
                <div class="date" on-tap="{{openDateDialog}}">
                    <div>{{date | date('yyyy-MM-dd')}}</div>
                    <template if="{{!disabled}}">
                        <paper-ripple fit></paper-ripple>
                    </template>
                </div>
            </div>
        </paper-input-decorator>
        <paper-date-picker-dialog id="dateDialog" value="{{date}}"></paper-date-picker-dialog>
    </template>
    <script>
        Polymer({
            date: new Date(),
            openDateDialog: function () {
                if (!this.disabled) {
                    this.$.dateDialog.open();
                }
            }
        });
    </script>
</polymer-element>