<link rel="import" href="../../bower_components/paper-input/paper-input-decorator.html">
<link rel="import" href="../../bower_components/polymer-filters/polymer-filters.html">
<link rel="import" href="../../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="time-picker.html">


<polymer-element name="time-input" attributes="time label disabled">
    <template>
        <style>
            .time {
                position: relative;
                cursor: pointer;
            }

            paper-icon-button {
                font-size: 9px;
            }
        </style>
        <paper-input-decorator floatingLabel label="{{label}}" disabled="{{disabled}}">
            <div layout horizontal>
                <div class="time" on-tap="{{openTimeDialog}}">
                    <div>{{time | date('HH:mm')}}</div>
                    <template if="{{!disabled}}">
                        <paper-ripple fit></paper-ripple>
                    </template>
                </div>
            </div>
        </paper-input-decorator>
        <time-picker id="timeDialog" value="{{time}}"></time-picker>
    </template>
    <script>
        Polymer({
            openTimeDialog: function () {
                if (!this.disabled) {
                    this.$.timeDialog.open();
                }
            }
        });
    </script>
</polymer-element>