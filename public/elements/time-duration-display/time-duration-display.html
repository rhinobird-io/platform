<polymer-element name="time-duration-display" attributes="origin current">
    <template>
        {{duration}}
    </template>
    <script>
        Polymer("time-duration-display", {
            originChanged: function() {
                this.calcDuration();
            },

            currentChanged: function() {
                this.calcDuration();
            },

            calcDuration: function() {
                from = Date.parse(this.origin);
                to = Date.parse(this.current);

                period = (to - from) / 1000;

                if (period < 0) {
                    this.duration = "N/A";
                } else if (period < 60) {

                    if (period > 1) {
                        this.duration = period + " seconds ago";
                    } else {
                        this.duration = period + " second ago";
                    }

                } else {
                    period = Math.floor(period / 60);
                    if (period < 60) {

                        if (period > 1) {
                            this.duration = period + " minutes ago";
                        } else {
                            this.duration = period + " minute ago";
                        }

                    } else {
                        period = Math.floor(period / 60);
                        if (period < 24) {

                            if (period > 1) {
                                this.duration = period + " hours ago";
                            } else {
                                this.duration = period + " hour ago";
                            }

                        } else {
                            period = Math.floor(period / 24);
                            if (period < 31) {

                                if (period > 1) {
                                    this.duration = period + " days ago";
                                } else {
                                    this.duration = period + " day ago";
                                }

                            } else {
                                period = Math.floor(period * 12 / 365);
                                if (period < 12) {

                                    if (period > 1) {
                                        this.duration = period + " months ago";
                                    } else {
                                        this.duration = period + " month ago";
                                    }

                                } else {
                                    period = Math.floor(period / 12);

                                    if (period > 1) {
                                        this.duration = period + " years ago";
                                    } else {
                                        this.duration = period + " year ago";
                                    }

                                }
                            }
                        }
                    }
                }
            }
        });
    </script>
</polymer-element>